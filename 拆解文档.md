# 拆解文档

## 项目概述

## 武器系统

策略模式+数据驱动+GAS。

- **数据表格DT_WeaponData：**包括各种武器的基础数据。
- **武器基类AWeaponBase**：包括武读取数据、开火逻辑。
- **策略基类UFiringPattern**：武器开火时实际调用的逻辑，需要在数据表格中指定。
  - 策略派生类IntentNoPen：直接射线检测并附加伤害的模式（当前步枪和霰弹枪使用），命中后会激活玩家有关**命中特效**能力。

## 丧尸系统

对象池+AI行为树+数据驱动+GAS。

- **数据表格DT_Zombie**：记录各种丧尸的基础属性
- **丧尸基类AZombie**：丧尸基类，记录丧尸实时数据，实现死亡等基础逻辑。死亡由GAS数据集发送**死亡事件**驱动，死亡后会调用死亡函数，这个函数中会激活玩家有关**击杀**的能力。同时丧尸自己管理粒子系统。
- **丧尸对象池UZombiePool**：管理丧尸
- **丧尸行为树BT_Zombie**：丧尸的AI控制

## 类肉鸽技能系统

数据驱动+GAS

每波次结束后，玩家有一次选择技能的机会。会从可选的Buff中随机三个供玩家选择，新学一个或升级现有的。

- **属性集HealthAttributeSet**：记录当前生命值和最大生命值，是GAS系统的基础。
- **GAS系统的GameAbility**：与GameplayTag一一对应，可以通过Tag激活。Player蓝图中记录了当前有哪些GameplayTag以及对用的等级。

- **能力分类**

  - 永久属性加成：直接修改玩家属性集（比如永久增加最大生命值）。
  - 击杀特效：击杀丧尸后对自己应用的效果（比如击杀回血、击杀补弹）。均通过丧尸基类Die逻辑统一激活。
  - 命中特效：命中丧尸后应用的效果（比如持续灼烧）。由策略基类判断是否命中，命中后会激活对应能力，应用对应效果。通过static GameplayCue的Active和Remove通知丧尸类的粒子系统。

- **能力数据表格DT_Buff**：记录了每个Buff 的属性

  ```c++
  ```

- 
